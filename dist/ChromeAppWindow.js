'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(_x,_x2,_x3){var _again=true;_function: while(_again) {var object=_x,property=_x2,receiver=_x3;desc = parent = getter = undefined;_again = false;if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {_x = parent;_x2 = property;_x3 = receiver;_again = true;continue _function;}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}}};function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var _react=require('react');var _react2=_interopRequireDefault(_react);var ChromeAppWindow=(function(_React$Component){_inherits(ChromeAppWindow,_React$Component);function ChromeAppWindow(){_classCallCheck(this,ChromeAppWindow);_get(Object.getPrototypeOf(ChromeAppWindow.prototype),'constructor',this).apply(this,arguments);}_createClass(ChromeAppWindow,[{key:'componentDidMount',value:function componentDidMount(){var _this=this;chrome.app.window.create(this.props.url,this.props.options,function(createdWindow){_this._chromeWindow = createdWindow;createdWindow.contentWindow.onload = function(){if(_this.props.containerId){_this._container = _this._chromeWindow.contentWindow.document.getElementById(_this.props.containerId);}else {_this._container = _this._chromeWindow.contentWindow.document.body;}_react2['default'].render(_this.props.children,_this._container);};if(_this.props.onClosed)_this._chromeWindow.onClosed.addListener(_this.props.onClosed.bind(_this));});}},{key:'componentDidUpdate',value:function componentDidUpdate(){_react2['default'].render(this.props.children,this._container);}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.closeWindow();}},{key:'closeWindow',value:function closeWindow(){if(this._chromeWindow){this._chromeWindow.close();}}},{key:'render',value:function render(){return _react2['default'].createElement('noscript',null);}}]);return ChromeAppWindow;})(_react2['default'].Component);exports['default'] = ChromeAppWindow;ChromeAppWindow.defaultProps = {options:{}};ChromeAppWindow.propTypes = {url:_react2['default'].PropTypes.string.isRequired,options:_react2['default'].PropTypes.object,containerId:_react2['default'].PropTypes.string,onClosed:_react2['default'].PropTypes.func,children:_react2['default'].PropTypes.element};module.exports = exports['default'];